<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/x-icon" href="odlogo_small.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
    <meta name="keywords" content="object detection, object recognition, detection, recognition, vision, computer vision, image processing, point cloud, opens ource"/>
    <meta name="description" content="Open Detection, OD, is a standalone open source project for object detection and recognition in images and 3D point clouds."/>
    <meta name="author" content="Kripasindhu Sarkar"/>
<title>Open Detection: /home/sarkar/opendetection/doc/doxygen/tutorials_doxygen/basic_structures.md Source File</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <style>
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            width: 70%;
            margin: auto;
        }
    </style>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Open Detection"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open Detection
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>OD</span></a></li>
      <li><a href="pages.html"><span>User&#160;Guide</span></a></li>
      <li class="current"><a href="usergroup0.html"><span>API&#160;Documentation</span></a></li>
      <li><a href="installation_instruction.html"><span>Downloads</span></a></li>
      <li><a href="idea_list_gsoc2016.html"><span>GSoC&#160;2016&#160;Ideas</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('basic__structures_8md.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/home/sarkar/opendetection/doc/doxygen/tutorials_doxygen/basic_structures.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Basic Structures {#basic_structures}</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;====</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;[TOC]</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;Basic Structure {#basic_structures1}</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;======</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;This article covers the basic structures and pipelines of OD. </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;The basic classes in OD are Trainers  and Detectors. A Trainer (the offline stage) of a detection method  acts on `training input data` to produce intermediate data called `trained data`. A corresponding Detector (the online stage) of the same method uses the `trained data` produced by Trainer to detect or recognize <span class="keywordtype">object</span> in a given `Scene` (query image/point cloud). `Trained data` is usually stored in a preconfigured directory structure depending on the method starting from the base directory set <span class="keywordflow">for</span> OpenDetection - `trained data location`. </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;The data by Trainer can be used by any of the Detectors. The Decector can use data of different types of Trainers (or no trainers at all). Therefore there is many-to-many mapping between Trainers and Detector which is currently resolved by Documentation (i.e. one needs to see the documentation to find out what Trainer to use <span class="keywordflow">for</span> a given Detector). In future we plan to associate <span class="keyword">this</span> mapping by grouping compatible Trainer/Detector under `ObjectDetector`s. </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">##Trainer {#basic_structures2}</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;Each `Trainer` (<a class="code" href="classod_1_1_o_d_trainer.html">od::ODTrainer</a>) implements a <span class="keyword">virtual</span> <span class="keyword">function</span> `train` with the following signature:</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> train() = 0;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">##Detector {#basic_structures3}</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;Each Detector (<a class="code" href="classod_1_1_o_d_detector.html">od::ODDetector</a>) implements two functions - `detect()` and `detectOmni()` of the following signature. `detectOmni()` performs a detection/recognition on the entire scene (unsegmented and unprocessed) and provides information about the detection as well as its exact location. detect() takes an &#39;<span class="keywordtype">object</span> candidate&#39; or a segmented/processed scene as an input and identifies if the entire scene is a detection.</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    virtual ODDetections* detect(ODScene *scene);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    virtual ODDetections* detectOmni(ODScene *scene);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;Depending on the type of scene, Detectors are categorised in od::Detector2D and od::Detector3D.</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">##Detection {#basic_structures4}</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor"></span>A result of a Detector is Detections - a collection of Detection (<a class="code" href="classod_1_1_o_d_detection.html">od::ODDetection</a>). Detection contains detection/recognition details as well as its exact location in the scene(<span class="keywordflow">for</span> example bounding box <span class="keywordflow">for</span> <a class="code" href="classod_1_1_o_d_detection2_d.html">od::ODDetection2D</a> and location/orientation <span class="keywordflow">for</span> od::Detection3D) .</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;##Typical code structure {#basic_structures5}</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;A very typical code looks covering most of the pipeline looks like: </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;\code{.cpp}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//train:</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html">od::g2d::ODHOGTrainer</a> *trainer = <span class="keyword">new</span> <a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html">od::g2d::ODHOGTrainer</a>(<span class="stringliteral">&quot;&quot;</span>, trained_data_dir); <span class="comment">//chose a trainer type</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;trainer-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a853f5cbb76d2f2fa7745cc2733cd3dd9">setPosSamplesDir</a>(pos_samples);                                           <span class="comment">//set all the configurations as required by the trainer, the default values are provided as well</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;trainer-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a4b6f1041d1c18c1debc380f6010e31d5">setNegSamplesDir</a>(neg_samples);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;trainer-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#adeba443d711d535713519dd36722fe7e">setNOFeaturesNeg</a>(10);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;trainer-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a201f76b48514907b9382b761eaef88de">setTrainHardNegetive</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;trainer-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a8c29fe3df89c6d83836614d98e5a97a1">train</a>();                                                                 <span class="comment">//train!</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//detect:</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;ODDetector *detector = <span class="keyword">new</span> <a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_detector.html">od::g2d::ODHOGDetector</a>;  <span class="comment">//chose a detector type</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;detector-&gt;setTrainingDataLocation(trained_data_dir);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;detector-&gt;<a class="code" href="classod_1_1g2d_1_1_o_d_h_o_g_detector.html#a03940e18d6357d4c01d3159417f4355c">init</a>();                                   <span class="comment">//init with the required options</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//do as may detections as needed in a loop using the initialized settings:</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;ODDetections2D *detections =  detector-&gt;detectOmni(scene); <span class="comment">//Use the detect* methods for detection. sene is a scene object from frameGenerator</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//infer</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;showimage(detections-&gt;renderMetainfo(*scene).getCVImage())  <span class="comment">//do something with the detections, </span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;\endcode</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;For more details please take a look into the examples provided with the `examples` folder in the repository and the rest of the user guide.</div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_detector_html"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_detector.html">od::g2d::ODHOGDetector</a></div><div class="ttdoc">A linear classifier for HOG features. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_detector_8h_source.html#l00060">ODHOGDetector.h:60</a></div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html_a4b6f1041d1c18c1debc380f6010e31d5"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a4b6f1041d1c18c1debc380f6010e31d5">od::g2d::ODHOGTrainer::setNegSamplesDir</a></div><div class="ttdeci">void setNegSamplesDir(std::string const &amp;negSamplesDir)</div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_trainer_8h_source.html#l00109">ODHOGTrainer.h:109</a></div></div>
<div class="ttc" id="classod_1_1_o_d_detector_html"><div class="ttname"><a href="classod_1_1_o_d_detector.html">od::ODDetector</a></div><div class="ttdoc">The main detector class; all special Detectors derives from this. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_detector_8h_source.html#l00051">ODDetector.h:51</a></div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_detector_html_a03940e18d6357d4c01d3159417f4355c"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_detector.html#a03940e18d6357d4c01d3159417f4355c">od::g2d::ODHOGDetector::init</a></div><div class="ttdeci">void init()</div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html_a8c29fe3df89c6d83836614d98e5a97a1"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a8c29fe3df89c6d83836614d98e5a97a1">od::g2d::ODHOGTrainer::train</a></div><div class="ttdeci">int train()</div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html">od::g2d::ODHOGTrainer</a></div><div class="ttdoc">Class for training HOG based detector. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_trainer_8h_source.html#l00053">ODHOGTrainer.h:53</a></div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html_a853f5cbb76d2f2fa7745cc2733cd3dd9"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a853f5cbb76d2f2fa7745cc2733cd3dd9">od::g2d::ODHOGTrainer::setPosSamplesDir</a></div><div class="ttdeci">void setPosSamplesDir(std::string const &amp;posSamplesDir)</div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_trainer_8h_source.html#l00099">ODHOGTrainer.h:99</a></div></div>
<div class="ttc" id="classod_1_1_o_d_detection_html"><div class="ttname"><a href="classod_1_1_o_d_detection.html">od::ODDetection</a></div><div class="ttdoc">The base class of all the detection. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_detection_8h_source.html#l00056">ODDetection.h:56</a></div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html_adeba443d711d535713519dd36722fe7e"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#adeba443d711d535713519dd36722fe7e">od::g2d::ODHOGTrainer::setNOFeaturesNeg</a></div><div class="ttdeci">void setNOFeaturesNeg(int featno)</div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_trainer_8h_source.html#l00119">ODHOGTrainer.h:119</a></div></div>
<div class="ttc" id="classod_1_1g2d_1_1_o_d_h_o_g_trainer_html_a201f76b48514907b9382b761eaef88de"><div class="ttname"><a href="classod_1_1g2d_1_1_o_d_h_o_g_trainer.html#a201f76b48514907b9382b761eaef88de">od::g2d::ODHOGTrainer::setTrainHardNegetive</a></div><div class="ttdeci">void setTrainHardNegetive(bool train_hard_negetive)</div><div class="ttdef"><b>Definition:</b> <a href="_o_d_h_o_g_trainer_8h_source.html#l00189">ODHOGTrainer.h:189</a></div></div>
<div class="ttc" id="classod_1_1_o_d_detection2_d_html"><div class="ttname"><a href="classod_1_1_o_d_detection2_d.html">od::ODDetection2D</a></div><div class="ttdoc">Detection for 2D with 2D location information. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_detection_8h_source.html#l00122">ODDetection.h:122</a></div></div>
<div class="ttc" id="classod_1_1_o_d_trainer_html"><div class="ttname"><a href="classod_1_1_o_d_trainer.html">od::ODTrainer</a></div><div class="ttdoc">The base class for all trainers. </div><div class="ttdef"><b>Definition:</b> <a href="_o_d_trainer_8h_source.html#l00051">ODTrainer.h:51</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>basic_structures.md</b></li>
    <li class="footer">Send your queries <a href="mailto:kripasindhu.sarkar@dfki.de?Subject=OpenDetection" target="_top">here</a>.</li>
  </ul>
</div>
</body>
</html>
